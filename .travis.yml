# This file was generated automatically from conda-smithy. To update this configuration,
# update the conda-forge.yml and/or the recipe/meta.yaml.

language: generic

os: linux-ppc64le

env:
  - secure: "dgNoQzmGjXwlO5DYjOUBcKCaFRL1PzQ0peRPwnTHuXcyQ/OWlwhXQ58n/57AAR6WqFH/o9FVfghwlKRHz4eqIOooDkMjGF8Iql9wXLrEvLEVZwtX7AruCdZWhtqMSjxgLq7TY6EVY2bowxmVbTq1fLRLCk5MHqFt0kPHW7xSFJX4vPIo6oyrDn2bTrv06t4YiRxSGAozlXe3OrF+U4pOXxFSkvtiGsa8fgxcsVXLGtWgdrouqvRbRfelHDaECGDXj+jYBMt45L5TvWbSWHTRMgfEksWB4wEifMj/xopAUuhf6Q7v6xszoq4ii7diFA+N24npl4PgQZryx0bAT9xiVIHcNtzniLvPq12uulXRNELrVEv8hy6lwI71rchkqG+SIyIm3DXihGANRq9P1u5HjKuJADxD3mZ0SjytM3K2jo/KsM1H23D1YtAGwvMEulLQmsyK+TPXIM2PvzmUS1Z1WsDYwoiWHyCt9VCwlNIQjtIxuB6sEvjN2dWMV4NsUe3YnURfnCX6hvbjqLTPaxnsab/hTAaLY2I4cdgt4Qi1n13Md+/0MrbMHiDjMf72m7EYeluSvZSHaO5FQuEgyb/+5SINOaid5nSY3RNE78Fow+kho7AwltSkUUnVd06ioOxMfCGfSRL4UvkuijRap83GjxBD51jiFmT19KKIh8dZnlA="
  - secure: "GeiyvVb+j8ac6J2qkyVJOVXvAHvc+tupXNKnZx856sCLIhk+U3iMuBSfdlqgLnSCEn44/vVGxY9xD/OOvzJLvkw6QqpKVyfJkeZsmXo9EmfmpxD2ZZqL4jGDXXQYvDwYxuQPpBKff5zmDavw2+ETgq8p23sqevLdwnXTKW3Wts4g++iQ1CQaqCQIHoXML93RkukUm4I8FQk7JUSUgg8Jf4PmnBpqdkFXMnXQl9M5FCTvIA8THMaUlwX1fsqOzwJOx9dcMLNZFq85s6SYPCo7SObX5s/5aJJnE2nTydab8GzlOvN1c3LJEDAWDPHGAIRTh/OepuWva+OxN0ZXH/dQNT9Z0zLrR/fqS1G09ncXdvnweEMd/wHd48sSJZa8iJBNSrdKwfwnG7RpZZ+IWcCt9pLSEdb0d2ZHxrs6N3p6FUAQ53XVitmGAm2F0pclpecxdplEpSN05y/yIetpB4KYXfRvYoXsyGYv/49UdKSEUZd6M6L5DIwdKIRsg48Z5WG6aPUJEluibgoDY44sAJqBrDJ6Z0q2l4y5IBBkMz5QRMT35MTKHl91UXOvNDJ2OcwxOUJo7tZztplw+57fFr/EMKFRTe23n6z9+kdIWcHEMNO+2RvDbqNV0eiwoZnCjz/0PYt224lLI6FKGVLP0gBgXUHQ2uiZW8TDEUG9MKWvUWY="
  matrix:
    - CONDA_PY=36

before_install:
    # Fast finish the PR..
    - sudo apt-get -qq update
    - sudo apt-get install  lftp
    - |
      (curl https://raw.githubusercontent.com/conda-forge/conda-forge-ci-setup-feedstock/master/recipe/ff_ci_pr_build.py | \
          python - -v --ci "travis" "${TRAVIS_REPO_SLUG}" "${TRAVIS_BUILD_NUMBER}" "${TRAVIS_PULL_REQUEST}") || exit 1
    # Remove homebrew.
    - |
      echo ""
      echo "Removing homebrew from Travis CI to avoid conflicts."
      curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall > ~/uninstall_homebrew
      chmod +x ~/uninstall_homebrew
      ~/uninstall_homebrew -fq
      rm ~/uninstall_homebrew

install:
    # Install Docker.
    - |
      echo deb http://ftp.unicamp.br/pub/ppc64el/ubuntu/16_04/docker-17.06.2-ce-ppc64el/ xenial main > /etc/apt/sources.list.d/xenial-docker.list
      sudo apt-get update
      sudo apt-get install -y docker-ce

script:
    -  ./ci_support/run_docker_build.sh pygdf-0.1.0a3-py${CONDA_PY}
    -  ./ci_support/ftp_upload.sh # Upload build_artifacts to UNICAMP FTP
    env:
